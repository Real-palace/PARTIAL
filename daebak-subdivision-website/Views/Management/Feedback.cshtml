@model List<daebak_subdivision_website.Models.Feedback>
@{
    ViewData["Title"] = "Feedback";
}

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>@ViewData["Title"]</title>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-light font-sans min-h-screen p-6">
    <div class="container mx-auto">
        <!-- Top Section -->
        <div class="flex justify-between items-center mb-6">
            <a asp-action="Index" class="bg-secondary text-white px-4 py-2 rounded-lg flex items-center gap-2 shadow hover:bg-tertiary">
                <i class="bi bi-house-door-fill"></i> Home
            </a>
            <h2 class="text-xl font-bold text-tertiary">Feedback</h2>
        </div>

        <!-- Search -->
        <div class="bg-white p-6 rounded-lg shadow-md mb-6">
            <form method="get" class="grid grid-cols-1 md:grid-cols-3 gap-4">
                <div class="relative">
                    <span class="absolute inset-y-0 left-3 flex items-center text-gray-400"><i class="bi bi-search"></i></span>
                    <input type="text" name="search" value="@ViewData["SearchQuery"]" placeholder="Search feedback..."
                           class="w-full pl-10 pr-4 py-2 bg-gray-100 rounded-lg focus:ring-2 focus:ring-primary">
                </div>
                <button type="submit" class="bg-primary text-white px-4 py-2 rounded-lg shadow-md hover:bg-secondary">Search</button>
            </form>
        </div>

        <!-- Feedback Table -->
        <div class="bg-white p-6 rounded-lg shadow-md">
            <table class="w-full border-collapse">
                <thead>
                    <tr class="bg-primary text-white">
                        <th class="p-3">User</th>
                        <th class="p-3">Comments</th>
                        <th class="p-3">Rating</th>
                        <th class="p-3">Date Submitted</th>
                    </tr>
                </thead>
                <tbody>
                    @foreach (var feedback in Model)
                    {
                        <tr class="border-b hover:bg-gray-100">
                            <td class="p-3">@feedback.User.FirstName @feedback.User.LastName</td>
                            <td class="p-3">@feedback.Comments</td>
                            <td class="p-3">@feedback.Rating ⭐</td>
                            <td class="p-3">@feedback.SubmittedAt.ToString("yyyy-MM-dd")</td>
                        </tr>
                    }
                </tbody>
            </table>
        </div>
    </div>
</body>
</html>
